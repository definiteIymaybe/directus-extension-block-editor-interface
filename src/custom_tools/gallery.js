!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Carousel=t():e.Carousel=t()}(self,(()=>(()=>{var e={104:e=>{window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){var i=n(2),o=setTimeout;function r(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function s(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void l(t.promise,e)}c(t.promise,i)}else(1===e._state?c:l)(t.promise,e._value)}))):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void p((i=n,o=t,function(){i.apply(o,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(t){l(e,t)}var i,o}function l(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e((function(e){n||(n=!0,c(t,e))}),(function(e){n||(n=!0,l(t,e))}))}catch(e){if(n)return;n=!0,l(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(r);return s(this,new d(e,t,n)),n},a.prototype.finally=i.a,a.all=function(e){return new a((function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var o=i.length;function r(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){r(e,t)}),n)}i[e]=a,0==--o&&t(i)}catch(e){n(e)}}for(var a=0;a<i.length;a++)r(a,i[a])}))},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,n){n(e)}))},a.race=function(e){return new a((function(t,n){for(var i=0,o=e.length;i<o;i++)e[i].then(t,n)}))},a._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){o(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=a}).call(this,n(5).setImmediate)},function(e,t,n){"use strict";t.a=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(4);var o,r,a,s,c,l,u,d=n(8),p=(r=function(e){return new Promise((function(t,n){e=s(e),(e=c(e)).beforeSend&&e.beforeSend();var i=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");i.open(e.method,e.url),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(e.headers).forEach((function(t){var n=e.headers[t];i.setRequestHeader(t,n)}));var o=e.ratio;i.upload.addEventListener("progress",(function(t){var n=Math.round(t.loaded/t.total*100),i=Math.ceil(n*o/100);e.progress(Math.min(i,100))}),!1),i.addEventListener("progress",(function(t){var n=Math.round(t.loaded/t.total*100),i=Math.ceil(n*(100-o)/100)+o;e.progress(Math.min(i,100))}),!1),i.onreadystatechange=function(){if(4===i.readyState){var e=i.response;try{e=JSON.parse(e)}catch(e){}var o=d.parseHeaders(i.getAllResponseHeaders()),r={body:e,code:i.status,headers:o};u(i.status)?t(r):n(r)}},i.send(e.data)}))},a=function(e){return e.method="POST",r(e)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.url&&"string"!=typeof e.url)throw new Error("Url must be a string");if(e.url=e.url||"",e.method&&"string"!=typeof e.method)throw new Error("`method` must be a string or null");if(e.method=e.method?e.method.toUpperCase():"GET",e.headers&&"object"!==i(e.headers))throw new Error("`headers` must be an object or null");if(e.headers=e.headers||{},e.type&&("string"!=typeof e.type||!Object.values(o).includes(e.type)))throw new Error("`type` must be taken from module's «contentType» library");if(e.progress&&"function"!=typeof e.progress)throw new Error("`progress` must be a function or null");if(e.progress=e.progress||function(e){},e.beforeSend=e.beforeSend||function(e){},e.ratio&&"number"!=typeof e.ratio)throw new Error("`ratio` must be a number");if(e.ratio<0||e.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(e.ratio=e.ratio||90,e.accept&&"string"!=typeof e.accept)throw new Error("`accept` must be a string with a list of allowed mime-types");if(e.accept=e.accept||"*/*",e.multiple&&"boolean"!=typeof e.multiple)throw new Error("`multiple` must be a true or false");if(e.multiple=e.multiple||!1,e.fieldName&&"string"!=typeof e.fieldName)throw new Error("`fieldName` must be a string");return e.fieldName=e.fieldName||"files",e},c=function(e){switch(e.method){case"GET":var t=l(e.data,o.URLENCODED);delete e.data,e.url=/\?/.test(e.url)?e.url+"&"+t:e.url+"?"+t;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var n=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type||o.JSON}(e);(d.isFormData(e.data)||d.isFormElement(e.data))&&(n=o.FORM),e.data=l(e.data,n),n!==p.contentType.FORM&&(e.headers["content-type"]=n)}return e},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case o.URLENCODED:return d.urlEncode(e);case o.JSON:return d.jsonEncode(e);case o.FORM:return d.formEncode(e);default:return e}},u=function(e){return e>=200&&e<300},{contentType:o={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:r,get:function(e){return e.method="GET",r(e)},post:a,transport:function(e){return e=s(e),d.selectFiles(e).then((function(t){for(var n=new FormData,i=0;i<t.length;i++)n.append(e.fieldName,t[i],t[i].name);d.isObject(e.data)&&Object.keys(e.data).forEach((function(t){var i=e.data[t];n.append(t,i)}));var o=e.beforeSend;return e.beforeSend=function(){return o(t)},e.data=n,a(e)}))},selectFiles:function(e){return delete(e=s(e)).beforeSend,d.selectFiles(e)}});e.exports=p},function(e,t,n){"use strict";n.r(t);var i=n(1);window.Promise=window.Promise||i.a},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(6),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,o,r,a,s,c=1,l={},u=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),i=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){h(e.data)},i=function(e){r.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,i=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):i=function(e){setTimeout(h,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return l[c]=o,i(c),c++},p.clearImmediate=f}function f(e){delete l[e]}function h(e){if(u)setTimeout(h,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(undefined,n)}}(t)}finally{f(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(0),n(7))},function(e,t){var n,i,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var c,l=[],u=!1,d=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=n(9);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"urlEncode",value:function(e){return o(e)}},{key:"jsonEncode",value:function(e){return JSON.stringify(e)}},{key:"formEncode",value:function(e){if(this.isFormData(e))return e;if(this.isFormElement(e))return new FormData(e);if(this.isObject(e)){var t=new FormData;return Object.keys(e).forEach((function(n){var i=e[n];t.append(n,i)})),t}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)}},{key:"isFormData",value:function(e){return e instanceof FormData}},{key:"isFormElement",value:function(e){return e instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,n){var i=document.createElement("INPUT");i.type="file",e.multiple&&i.setAttribute("multiple","multiple"),e.accept&&i.setAttribute("accept",e.accept),i.style.display="none",document.body.appendChild(i),i.addEventListener("change",(function(e){var n=e.target.files;t(n),document.body.removeChild(i)}),!1),i.click()}))}},{key:"parseHeaders",value:function(e){var t=e.trim().split(/[\r\n]+/),n={};return t.forEach((function(e){var t=e.split(": "),i=t.shift(),o=t.join(": ");i&&(n[i]=o)})),n}}],null&&i(t.prototype,null),n&&i(t,n),e}()},function(e,t){var n=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},i=function(e,t,o,r){return t=t||null,o=o||"&",r=r||null,e?function(e){for(var t=new Array,n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}(Object.keys(e).map((function(a){var s,c,l=a;if(r&&(l=r+"["+l+"]"),"object"==typeof e[a]&&null!==e[a])s=i(e[a],null,o,l);else{t&&(c=l,l=!isNaN(parseFloat(c))&&isFinite(c)?t+Number(l):l);var u=e[a];u=(u=0===(u=!1===(u=!0===u?"1":u)?"0":u)?"0":u)||"",s=n(l)+"="+n(u)}return s}))).join(o).replace(/[!'()*]/g,""):""};e.exports=i}])},226:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var i=n(500),o=n.n(i),r=n(312),a=n.n(r)()(o());a.push([e.id,'.cdxcarousel-addImage {\n    height: 225px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n    position: relative;\n    flex-direction: column;\n    margin-top: 5px;\n    user-select: none;\n    text-align: center;\n}\n.cdxcarousel-addImage svg{\n  height: auto;\n  margin: 0 0 10px; \n}\n\n.cdxcarousel-item--empty .image-tool__image-preloader{\n  display: none;\n}\n\n.cdxcarousel-item img {\n    margin-bottom: 15px;\n    display: block;\n    object-fit: cover;\n    width: 100%;\n    height: 180px;\n    order: 1;\n}\n\n.cdxcarousel-inputUrl {\n    order: 0;\n    display: none;\n}\n\n.cdxcarousel-caption {\n    order: 3;\n}\n\n\n.cdxcarousel-block {\n    width: 50%;\n}\n\n.cdxcarousel-list {\n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: flex-start;\n}\n\n.cdxcarousel-wrapper {\n    margin-top: 10px;\n    margin-bottom: 15px;\n}\n\n.cdxcarousel-item {\n    height: 235px;\n    padding: 5px;\n    display: flex;\n    position: relative;\n    flex-direction: column;\n}\n\n\n.cdxcarousel-removeBtn {\n    position: absolute;\n    padding: 3px;\n    right: 10px;\n    top: 10px;\n    display: inline-flex;\n    width: 34px;\n    height: 34px;\n    line-height: 34px;\n    justify-content: center;\n    align-items: center;\n    border-radius: 3px;\n    cursor: pointer;\n    border: 0;\n    outline: none;\n    background-color: white;\n    color: #000;\n    transition: background 200ms;\n}\n\n.cdxcarousel-removeBtn:hover {\n    background: #eff2f5;\n}\n\n.cdxcarousel-leftBtn {\n  position: absolute;\n  padding: 3px;\n  right: 60px;\n  top: 10px;\n  display: inline-flex;\n  width: 34px;\n  height: 34px;\n  line-height: 34px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 3px;\n  cursor: pointer;\n  border: 0;\n  outline: none;\n  background-color: white;\n  color: #000;\n  transition: background 200ms;\n}\n\n.cdxcarousel-rightBtn {\n  position: absolute;\n  padding: 3px;\n  right: 35px;\n  top: 10px;\n  display: inline-flex;\n  width: 34px;\n  height: 34px;\n  line-height: 34px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 3px;\n  cursor: pointer;\n  border: 0;\n  outline: none;\n  background-color: white;\n  color: #000;\n  transition: background 200ms;\n}\n\n.column__setting__wrapper {\n    position: absolute;\n    right: -30px;\n    top: 30px;\n}\n.column__setting__wrapper .column__setting{\npadding: 0 !important;\n}\n.column-1 .cdxcarousel-block {\n    width: 100% !important;\n}\n.column-2 .cdxcarousel-block {\n    width: 50% !important;\n}\n.column-3 .cdxcarousel-block {\n    width: calc(100% / 3) !important;\n}\n.column-4 .cdxcarousel-block {\n    width: 25% !important;\n}\n.column-5 .cdxcarousel-block {\n    width: 20% !important;\n}\n\n.cdxcarousel-block {\n  width: 20% !important;\n}\n\n.cdxcarousel-item {\n  height: auto !important;\n}\n\n.cdxcarousel-item img {\n  height: 125px !important;\n}\n\n.cdxcarousel-addImage {\n  height: 123px !important;\n  margin: 5px !important;\n  padding: 0 !important;\n  border-radius: 0 !important;\n}\n\n.cdxcarousel-addImage:hover, .cdxcarousel-addImage:focus {\n  border-radius: 3px !important;\n}\n\n.cdxcarousel-leftBtn, .cdxcarousel-rightBtn {\n  width: 20px !important;\n  height: 20px !important;\n  padding: 5px !important;\n  /* box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px; */\n}\n\n.cdxcarousel-removeBtn {\n  width: 20px !important;\n  height: 20px !important;\n}\n\n.image-tool__image {\n    border-radius: 3px;\n    overflow: hidden;\n    margin-bottom: 10px;\n  }\n\n.image-tool__image-picture {\n      max-width: 100%;\n      vertical-align: bottom;\n      display: block;\n    }\n\n.image-tool__image-preloader {\n      width: 50px;\n      height: 50px;\n      border-radius: 50%;\n      background-size: cover;\n      margin: auto;\n      position: relative;\n      background-color: #cdd1e0;\n      background-position: center center;\n    }\n\n.image-tool__image-preloader::after {\n        content: "";\n        position: absolute;\n        z-index: 3;\n        width: 60px;\n        height: 60px;\n        border-radius: 50%;\n        border: 2px solid #cdd1e0;\n        border-top-color: #388ae5;\n        left: 50%;\n        top: 50%;\n        margin-top: -30px;\n        margin-left: -30px;\n        animation: image-preloader-spin 2s infinite linear;\n        box-sizing: border-box;\n      }\n',""]);const s=a},312:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,o,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(i)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);i&&a[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},500:e=>{"use strict";e.exports=function(e){return e[1]}},652:(e,t,n)=>{"use strict";var i=n(596),o=n.n(i),r=n(520),a=n.n(r),s=n(176),c=n.n(s),l=n(120),u=n.n(l),d=n(808),p=n.n(d),f=n(936),h=n.n(f),m=n(226),g={};g.styleTagTransform=h(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=p(),o()(m.c,g),m.c&&m.c.locals&&m.c.locals},596:e=>{"use strict";var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var r={},a=[],s=0;s<e.length;s++){var c=e[s],l=i.base?c[0]+i.base:c[0],u=r[l]||0,d="".concat(l," ").concat(u);r[l]=u+1;var p=n(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=o(f,i);i.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var r=i(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<r.length;a++){var s=n(r[a]);t[s].references--}for(var c=i(e,o),l=0;l<r.length;l++){var u=n(r[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}r=c}}},176:e=>{"use strict";var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},808:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},120:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},520:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},936:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},296:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M9.26 13.515H6.957A1.958 1.958 0 0 1 5 11.557V6.958A1.958 1.958 0 0 1 6.958 5H9.26a1.959 1.959 0 0 1 1.959 1.958v4.599a1.959 1.959 0 0 1-1.959 1.958ZM6.957 5.783a1.175 1.175 0 0 0-1.175 1.175v4.599a1.175 1.175 0 0 0 1.175 1.175H9.26a1.175 1.175 0 0 0 1.175-1.175V6.958A1.175 1.175 0 0 0 9.26 5.783h-2.3ZM9.26 19h-2.3a1.958 1.958 0 1 1 0-3.917h2.3a1.959 1.959 0 1 1 0 3.917Zm-2.298-3.133a1.175 1.175 0 1 0 0 2.35h2.298a1.175 1.175 0 1 0 0-2.35H6.961ZM17.043 19h-2.3a1.959 1.959 0 0 1-1.958-1.958v-4.599a1.958 1.958 0 0 1 1.958-1.958h2.298A1.959 1.959 0 0 1 19 12.443v4.599A1.958 1.958 0 0 1 17.043 19Zm-2.3-7.732a1.175 1.175 0 0 0-1.175 1.175v4.599a1.175 1.175 0 0 0 1.175 1.175h2.298a1.175 1.175 0 0 0 1.176-1.175v-4.599a1.175 1.175 0 0 0-1.175-1.175h-2.299Zm2.3-2.351h-2.3a1.958 1.958 0 0 1 0-3.917h2.298a1.959 1.959 0 0 1 0 3.917h.002Zm-2.298-3.134a1.175 1.175 0 0 0 0 2.35h2.298a1.175 1.175 0 0 0 0-2.35h-2.298Z"></path></svg>'},232:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M9.667 5h-3.5A1.167 1.167 0 0 0 5 6.167v3.5a1.167 1.167 0 0 0 1.167 1.166h3.5a1.167 1.167 0 0 0 1.166-1.166v-3.5A1.167 1.167 0 0 0 9.667 5Zm0 4.667h-3.5v-3.5h3.5v3.5ZM17.833 5h-3.5a1.167 1.167 0 0 0-1.166 1.167v3.5a1.167 1.167 0 0 0 1.166 1.166h3.5A1.167 1.167 0 0 0 19 9.667v-3.5A1.167 1.167 0 0 0 17.833 5Zm0 4.667h-3.5v-3.5h3.5v3.5Zm-8.166 3.5h-3.5A1.167 1.167 0 0 0 5 14.333v3.5A1.167 1.167 0 0 0 6.167 19h3.5a1.167 1.167 0 0 0 1.166-1.167v-3.5a1.167 1.167 0 0 0-1.166-1.166Zm0 4.666h-3.5v-3.5h3.5v3.5Zm8.166-4.666h-3.5a1.167 1.167 0 0 0-1.166 1.166v3.5A1.167 1.167 0 0 0 14.333 19h3.5A1.167 1.167 0 0 0 19 17.833v-3.5a1.167 1.167 0 0 0-1.167-1.166Zm0 4.666h-3.5v-3.5h3.5v3.5Z"></path></svg>'},618:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M9.922 6.044c-.478.064-.731.182-.911.362-.18.18-.298.433-.362.911-.067.492-.068 1.144-.068 2.078v5.21c0 .934.001 1.586.068 2.078.064.478.181.73.362.91v.001c.18.18.433.298.91.362.493.066 1.144.067 2.079.067.935 0 1.586 0 2.078-.067.478-.064.731-.182.911-.362.18-.18.298-.433.362-.911.067-.492.068-1.144.068-2.078v-5.21c0-.934-.001-1.586-.068-2.078-.064-.478-.181-.73-.362-.91v-.001c-.18-.18-.433-.298-.91-.362-.493-.066-1.144-.067-2.079-.067-.935 0-1.586 0-2.078.067ZM11.964 5h.072c.89 0 1.608 0 2.173.076.586.079 1.08.247 1.47.64.261.26.423.565.526.912.315.001.583.005.81.024.302.024.575.077.83.206.398.203.721.527.924.926.13.254.183.526.207.828.024.291.024.65.024 1.088v4.6c0 .438 0 .797-.024 1.088-.024.302-.077.574-.207.829a2.117 2.117 0 0 1-.924.924c-.255.13-.527.183-.83.207-.227.019-.495.023-.81.024a2.08 2.08 0 0 1-.525.913c-.392.392-.885.56-1.471.64-.565.075-1.283.075-2.173.075h-.072c-.89 0-1.608 0-2.173-.076-.586-.079-1.08-.247-1.47-.64a2.081 2.081 0 0 1-.526-.912c-.315-.001-.583-.005-.811-.024-.302-.024-.574-.077-.828-.207a2.116 2.116 0 0 1-.926-.924c-.13-.255-.182-.527-.206-.83C5 15.098 5 14.739 5 14.3V9.701c0-.439 0-.798.024-1.089.024-.302.077-.574.206-.828.203-.399.527-.723.926-.926.254-.13.527-.182.828-.206a10.8 10.8 0 0 1 .811-.024c.103-.347.265-.652.525-.913.392-.392.885-.56 1.471-.64C10.356 5 11.074 5 11.964 5ZM7.64 7.606a8.086 8.086 0 0 0-.575.02c-.242.019-.371.055-.465.103a1.14 1.14 0 0 0-.498.498c-.048.094-.084.223-.104.464-.02.247-.02.566-.02 1.03v4.558c0 .464 0 .783.02 1.03.02.24.056.37.104.464.109.215.283.389.498.498.094.048.224.084.465.104.156.013.342.017.575.02-.034-.49-.034-1.071-.034-1.755V9.36c0-.684 0-1.265.034-1.754Zm8.722 8.788a8.06 8.06 0 0 0 .575-.02c.241-.019.371-.055.465-.103a1.14 1.14 0 0 0 .498-.498c.048-.094.084-.223.104-.465.02-.247.02-.565.02-1.029V9.721c0-.464 0-.782-.02-1.03-.02-.24-.056-.37-.104-.464a1.14 1.14 0 0 0-.498-.498c-.094-.048-.224-.084-.465-.104a8.086 8.086 0 0 0-.575-.02c.034.49.034 1.071.034 1.755v5.28c0 .684 0 1.265-.034 1.754Z" clip-rule="evenodd"></path></svg>'}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={id:i,exports:{}};return e[i](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var i={};return(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function t(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}function o(n){return function(t){if(Array.isArray(t))return e(t)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||t(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:String(t)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(i,{default:()=>E});var u=n(104),d=n.n(u),p=function(){function e(t){var n=t.config,i=t.onUpload,o=t.onError;a(this,e),this.config=n,this.onUpload=i,this.onError=o}return l(e,[{key:"uploadSelectedFile",value:function(e){var t=this,n=e.onPreview,i=function(e){var t=new window.FileReader;t.readAsDataURL(e),t.onload=function(e){n(e.target.result)}};(this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile?d().selectFiles({accept:this.config.types}).then((function(e){i(e[0]);var n=t.config.uploader.uploadByFile(e[0]);return f(n),n})):d().transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(e){i(e[0])},fieldName:this.config.field}).then((function(e){return e.body}))).then((function(e){t.onUpload(e)})).catch((function(e){t.onError(e)}))}},{key:"uploadByUrl",value:function(e){var t,n=this;this.config.uploader&&"function"==typeof this.config.uploader.uploadByUrl?f(t=this.config.uploader.uploadByUrl(e)):t=d().post({url:this.config.endpoints.byUrl,data:Object.assign({url:e},this.config.additionalRequestData),type:d().contentType.JSON,headers:this.config.additionalRequestHeaders}).then((function(e){return e.body})),t.then((function(e){n.onUpload(e)})).catch((function(e){n.onError(e)}))}},{key:"uploadByFile",value:function(e,n){var i,o=this,r=n.onPreview,a=new window.FileReader;if(a.readAsDataURL(e),a.onload=function(e){r(e.target.result)},this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile)f(i=this.config.uploader.uploadByFile(e));else{var s=new window.FormData;s.append(this.config.field,e),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach((function(e){var n,i,o=(i=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,s=[],c=!0,l=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(s.push(i.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(n,i)||t(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=o[0],a=o[1];s.append(r,a)})),i=d().post({url:this.config.endpoints.byFile,data:s,type:d().contentType.JSON,headers:this.config.additionalRequestHeaders}).then((function(e){return e.body}))}i.then((function(e){o.onUpload(e)})).catch((function(e){o.onError(e)}))}}]),e}();function f(e){return window.Promise.resolve(e)===e}const h='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';var m=function(){function e(t){var n=t.api,i=t.config,o=t.onSelectFile;a(this,e),this.api=n,this.config=i,this.onSelectFile=o,this.nodes={list:g("div",[this.CSS.baseClass]),item:g("div",[this.CSS.baseClass,this.CSS.wrapper]),wrapper:g("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:g("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),addButton:this.createAddButton(),imageEl:void 0,imagePreloader:g("div",this.CSS.imagePreloader),caption:g("div",[this.CSS.input,this.CSS.caption],{contentEditable:!0})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.item.appendChild(this.nodes.imageContainer),this.nodes.item.appendChild(this.nodes.caption),this.nodes.item.appendChild(this.nodes.fileButton),this.nodes.list.appendChild(this.nodes.item),this.nodes.wrapper.appendChild(this.nodes.list),this.nodes.wrapper.appendChild(this.nodes.addButton)}return l(e,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}},{key:"render",value:function(t){return t.file&&0!==Object.keys(t.file).length?this.toggleStatus(e.status.UPLOADING):this.toggleStatus(e.status.EMPTY),this.nodes.wrapper}},{key:"createAddButton",value:function(){var e=this,t=g("div",[this.CSS.button]);return t.innerHTML=this.config.buttonContent||"".concat(h," ").concat(this.api.i18n.t("Add Image")),t.addEventListener("click",(function(){e.nodes.list.appendChild()})),t}},{key:"createFileButton",value:function(){var e=this,t=g("div",[this.CSS.button]);return t.innerHTML=this.config.buttonContent||"".concat(h," ").concat(this.api.i18n.t("Add Image")),t.addEventListener("click",(function(){e.onSelectFile()})),t}},{key:"showPreloader",value:function(t){this.nodes.imagePreloader.style.backgroundImage="url(".concat(t,")"),this.toggleStatus(e.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.item.imagePreloader.style.backgroundImage="",this.toggleStatus(e.status.EMPTY)}},{key:"fillImage",value:function(t){var n=this,i=/\.mp4$/.test(t)?"VIDEO":"IMG",o={src:t},r="load";"VIDEO"===i&&(o.autoplay=!0,o.loop=!0,o.muted=!0,o.playsinline=!0,r="loadeddata"),this.nodes.imageEl=g(i,this.CSS.imageEl,o),this.nodes.imageEl.addEventListener(r,(function(){n.toggleStatus(e.status.FILLED),n.nodes.imagePreloader&&(n.nodes.imagePreloader.style.backgroundImage="")})),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(e){this.nodes.caption&&(this.nodes.caption.innerHTML=e)}},{key:"toggleStatus",value:function(t){for(var n in e.status)e.status.hasOwnProperty(n)&&this.nodes.item.classList.toggle("".concat(this.CSS.wrapper,"--").concat(e.status[n]),t===e.status[n])}},{key:"applyTune",value:function(e,t){this.nodes.item.classList.toggle("".concat(this.CSS.wrapper,"--").concat(e),t)}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),e}(),g=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.createElement(e);for(var a in Array.isArray(n)?(t=r.classList).add.apply(t,o(n)):n&&r.classList.add(n),i)r[a]=i[a];return r},v=n(618),y=n.n(v),b=n(296),w=n.n(b),x=n(232),S=n.n(x),C=function(){function e(t){var n=t.api,i=t.onChange;a(this,e),this.api=n,this.onChange=i,this.buttons=[]}return l(e,[{key:"CSS",get:function(){return{wrapper:"ce-popover__items",buttonBase:"ce-popover-item",button:"image-tool__tune",buttonActive:"ce-popover-item--active"}}},{key:"render",value:function(t){var n=this,i=g("div",this.CSS.wrapper);return this.buttons=[],e.tunes.forEach((function(e){var o=g("div",[n.CSS.buttonBase,n.CSS.button],{innerHTML:"<div class='ce-popover-item__icon'>".concat(e.icon,"</div> <div class='ce-popover-item__title'>").concat(e.title,"</div>"),title:e.title});o.addEventListener("click",(function(){n.tuneClicked(e.name);var t=o.parentNode.querySelectorAll("."+n.CSS.buttonBase);Array.from(t).forEach((function(e){return e.classList.remove(n.CSS.buttonActive)})),o.classList.toggle(n.CSS.buttonActive)})),o.dataset.tune=e.name,o.classList.toggle(n.CSS.buttonActive,t.config===e.name),n.buttons.push(o),i.appendChild(o)})),i}},{key:"tuneClicked",value:function(e){this.onChange(e)}}],[{key:"isTune",get:function(){return!0}},{key:"tunes",get:function(){return[{name:"standard",icon:S(),title:"Standard Layout",default:!0},{name:"carousel",icon:y(),title:"Enable Slide",default:!1},{name:"masonry",icon:w(),title:"Enable Masonry",default:!1}]}}]),e}();function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(652).toString();var E=function(){function e(t){var n=this,i=t.data,o=t.config,r=t.api,s=t.readOnly;a(this,e),this.api=r,this._data={items:[],config:C.tunes.find((function(e){return!0===e.default})).name,countItemEachRow:2},this.data=i,this.IconClose='<svg xmlns="http://www.w3.org/2000/svg" class="icon icon--cross" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16"> <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/></svg>',this.IconLeft='<svg xmlns="http://www.w3.org/2000/svg" class="icon " width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/></svg>',this.IconRight='<svg xmlns="http://www.w3.org/2000/svg" class="icon " width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/></svg>',this.IconPlus='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16"> <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/></svg>',this.IconMinus='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash" viewBox="0 0 16 16"> <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/></svg>',this.config={endpoints:o.endpoints||"",additionalRequestData:o.additionalRequestData||{},additionalRequestHeaders:o.additionalRequestHeaders||{},field:o.field||"image",types:o.types||"image/*",captionPlaceholder:this.api.i18n.t("Caption"),buttonContent:o.buttonContent||"",uploader:o.uploader||void 0,actions:o.actions||[],galleryCallback:o.galleryCallback||{}},this.uploader=new p({config:this.config,onUpload:function(e){return n.onUpload(e)},onError:function(e){return n.uploadingFailed(e)}}),this.ui=new m({api:r,config:this.config,onSelectFile:function(){n.uploader.uploadSelectedFile({onPreview:function(e){n.ui.showPreloader(e)}})},readOnly:s}),this.tunes=new C({api:r,actions:this.config.actions,onChange:function(e){return n.tuneToggled(e)}})}return l(e,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"cdxcarousel-wrapper",addButton:"cdxcarousel-addImage",block:"cdxcarousel-block",item:"cdxcarousel-item",removeBtn:"cdxcarousel-removeBtn",leftBtn:"cdxcarousel-leftBtn",rightBtn:"cdxcarousel-rightBtn",inputUrl:"cdxcarousel-inputUrl",caption:"cdxcarousel-caption",caption2:"image-tool__caption",list:"cdxcarousel-list",imagePreloader:"image-tool__image-preloader",columnSetting:"column__setting"}}},{key:"render",value:function(){if(this.wrapper=T("div",[this.CSS.wrapper]),this.list=T("div",[this.CSS.list]),this.addButton=this.createAddButton(),this.list.appendChild(this.addButton),this.wrapper.appendChild(this.list),this._data.items.length>0){var e,t=k(this._data.items);try{for(t.s();!(e=t.n()).done;){var n=e.value,i=this.creteNewItem(n.url,n.caption);this.list.insertBefore(i,this.addButton)}}catch(e){t.e(e)}finally{t.f()}}return this.wrapper.classList.add("column-"+this._data.countItemEachRow),this.wrapper}},{key:"save",value:function(){return this.data}},{key:"data",get:function(){this._data.items=[];var e=this.wrapper.getElementsByClassName(this.CSS.item),t=this.wrapper.querySelector(".column__setting__wrapper");if(e.length>0){var n,i=k(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.firstChild.value&&this._data.items.push({url:o.firstChild.value,caption:o.querySelector(".cdxcarousel-caption.cdx-input[contenteditable]").innerHTML||""})}}catch(e){i.e(e)}finally{i.f()}}return this._data.countItemEachRow=t.dataset.index,this._data},set:function(e){e||(e={}),this._data.config=e.config||C.tunes.find((function(e){return!0===e.default})).name,this._data.items=e.items||[],this._data.countItemEachRow=e.countItemEachRow||2;var t=this.wrapper;t&&t.parentNode.replaceChild(this.render(),t)}},{key:"creteNewItem",value:function(e,t){var n=this,i=T("div",[this.CSS.block]),o=T("div",[this.CSS.item,"items_column"]),r=T("div",[this.CSS.removeBtn]),a=T("div",[this.CSS.leftBtn]),s=T("div",[this.CSS.rightBtn]),c=T("input",[this.CSS.inputUrl]),l=T("div",[this.CSS.imagePreloader]);return c.value=e,a.innerHTML=this.IconLeft,a.style="padding: 8px;",a.addEventListener("click",(function(){var e=Array.from(i.parentNode.children).indexOf(i);0!=e&&i.parentNode.insertBefore(i,i.parentNode.children[e-1])})),s.innerHTML=this.IconRight,s.style="padding: 8px;",s.addEventListener("click",(function(){var e=Array.from(i.parentNode.children).indexOf(i);e!=i.parentNode.children.length-2&&i.parentNode.insertBefore(i,i.parentNode.children[e+2])})),r.innerHTML=this.IconClose,r.addEventListener("click",(function(){i.remove(),""===n.config.endpoints.removeImage&&void 0===n.config.endpoints.removeImage||n.removeImage(i.querySelector("img").getAttribute("src"))})),r.style.display="none",o.appendChild(c),o.appendChild(r),o.appendChild(a),o.appendChild(s),i.appendChild(o),e?this._createImage(e,o,t,r):o.appendChild(l),i}},{key:"_createImage",value:function(e,t,n,i){var o=document.createElement("img"),r=T("div",[this.CSS.caption,this.CSS.input,this.CSS.caption2]);o.src=e,r.contentEditable=!0,r.innerHTML=n||"",r.dataset.placeholder=this.config.captionPlaceholder,i.style.display="flex",t.appendChild(o),t.appendChild(r)}},{key:"onUpload",value:function(e){e.success&&e.file?(this._createImage(e.file.url,this.list.childNodes[this.list.childNodes.length-2].firstChild,"",this.list.childNodes[this.list.childNodes.length-2].firstChild.childNodes[1]),this.list.childNodes[this.list.childNodes.length-2].firstChild.childNodes[2].style.backgroundImage="",this.list.childNodes[this.list.childNodes.length-2].firstChild.firstChild.value=e.file.url,this.list.childNodes[this.list.childNodes.length-2].firstChild.classList.add("cdxcarousel-item--empty")):this.uploadingFailed("incorrect response: "+JSON.stringify(e))}},{key:"removeImage",value:function(e){d().post({url:this.config.endpoints.removeImage,data:{image:e},mode:"same-origin",type:d().contentType.FORM,headers:Object.assign({"X-CSRFToken":document.querySelector("[name=csrf-token]").getAttribute("content")},this.config.additionalRequestHeaders)}).then((function(e){e.body})).catch((function(e){e.body}))}},{key:"uploadingFailed",value:function(){this.api.notifier.show({message:this.api.i18n.t("Can not upload an image, try another"),style:"error"})}},{key:"tuneToggled",value:function(e){this.setTune(e,this._data.config!==e),this._data.config=e}},{key:"setTune",value:function(e,t){this.applyTune(e,t)}},{key:"applyTune",value:function(e,t){this.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(e),t)}},{key:"renderSettings",value:function(){return this.tunes.render(this._data)}},{key:"showPreloader",value:function(e){this.nodes.imagePreloader.style.backgroundImage="url(".concat(e,")")}},{key:"onSelectFile",value:function(){var e=this;this.uploader.uploadSelectedFile({onPreview:function(t){var n=e.creteNewItem("","");n.firstChild.lastChild.style.backgroundImage="url(".concat(t,")"),e.list.insertBefore(n,e.addButton)}})}},{key:"createAddButton",value:function(){var e=this,t=T("div",[this.CSS.button,this.CSS.addButton]),n=T("div",[this.CSS.block]),i=T("div",[this.CSS.leftBtn,this.CSS.columnSetting]),o=T("div",[this.CSS.rightBtn,this.CSS.columnSetting]),a=T("div",[this.CSS.item,"column__setting__wrapper"]);return a.dataset.index=this._data.countItemEachRow?this._data.countItemEachRow:2,i.innerHTML=this.IconPlus,i.style="padding: 4px; right:  0;",i.addEventListener("click",(function(){e._data.countItemEachRow<5&&(a.dataset.index++,e.setCountItemEachRow(a.dataset.index))})),o.innerHTML=this.IconMinus,o.style="padding: 4px; right: 0px; top: 45px;",o.addEventListener("click",(function(){e._data.countItemEachRow>1&&(a.dataset.index--,e.setCountItemEachRow(a.dataset.index))})),t.innerHTML=this.config.buttonContent||"".concat(h," ").concat(this.api.i18n.t("Add Image")),t.addEventListener("click",(function(){"function"==typeof window[e.config.galleryCallback]&&"object"===r(window[e.config.galleryCallback]())&&Object.assign(e.config.additionalRequestData,window[e.config.galleryCallback]()),e.onSelectFile()})),a.appendChild(i),a.appendChild(o),n.appendChild(a),n.appendChild(t),n}},{key:"setCountItemEachRow",value:function(e){this._data.countItemEachRow=e,this.wrapper.classList.remove("column-1","column-2","column-3","column-4","column-5"),this.wrapper.classList.add("column-"+e)}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{title:"Gallery",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M13.416 5c1.002 0 1.805 0 2.436.085.655.087 1.199.274 1.631.704.452.45.636 1.021.72 1.71l.003.031v.064c.192.111.37.247.527.405.51.511.738 1.16.845 1.96.105.778.105 1.772.105 3.027v.077c0 1.255 0 2.248-.105 3.027-.107.8-.334 1.448-.845 1.96-.512.51-1.16.738-1.96.845-.778.105-1.772.105-3.027.105h-2.809c-1.255 0-2.249 0-3.027-.105-.8-.107-1.449-.334-1.96-.845-.51-.512-.738-1.16-.846-1.96-.095-.712-.103-1.622-.104-2.732v-.372c0-1.255 0-2.249.104-3.027.108-.8.335-1.449.846-1.96.125-.125.262-.236.409-.332l-.002-.133.004-.034c.083-.69.268-1.261.72-1.71.431-.431.976-.618 1.63-.705C9.342 5 10.146 5 11.148 5h2.268ZM6.12 15.954c-.08-.594-.093-1.349-.095-2.356l1.02-.893a1.058 1.058 0 0 1 1.446.048l2.93 2.93a1.877 1.877 0 0 0 2.408.208l.203-.143a1.537 1.537 0 0 1 1.912.115l1.835 1.652c-.267.179-.62.295-1.142.365-.702.094-1.627.096-2.93.096h-2.731c-1.303 0-2.227-.002-2.93-.096-.686-.092-1.083-.266-1.371-.554-.29-.29-.463-.686-.555-1.372Zm12.276.738-1.767-1.59a2.561 2.561 0 0 0-3.186-.193l-.204.144a.853.853 0 0 1-1.094-.095l-2.93-2.93a2.083 2.083 0 0 0-2.844-.094l-.345.302c.003-.9.02-1.59.094-2.14.092-.688.266-1.084.555-1.373.288-.289.685-.462 1.37-.554.704-.094 1.628-.096 2.93-.096h2.732c1.303 0 2.228.002 2.93.096.686.092 1.082.265 1.371.554.29.29.463.685.555 1.372.094.702.096 1.627.096 2.93 0 1.302-.002 2.227-.096 2.928-.04.296-.094.537-.167.74ZM7.444 7.235c.077-.343.195-.556.359-.719.21-.21.503-.343 1.044-.416.555-.074 1.29-.075 2.338-.075h2.193c1.048 0 1.783 0 2.338.076.541.072.834.205 1.045.415.159.16.275.365.353.693a6.36 6.36 0 0 0-.341-.055c-.778-.105-1.772-.105-3.027-.105h-2.809c-1.255 0-2.249 0-3.027.105-.157.02-.312.048-.466.081Zm8.067 1.98a1.536 1.536 0 1 1 1.176 2.838 1.536 1.536 0 0 1-1.176-2.838Zm.226 1.057a.512.512 0 1 1 .724.724.512.512 0 0 1-.724-.724Z" clip-rule="evenodd"/></svg>'}}}]),e}(),T=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.createElement(e);for(var a in Array.isArray(n)?(t=r.classList).add.apply(t,o(n)):n&&r.classList.add(n),i)r[a]=i[a];return r}})(),i.default})()));